<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}HITL Platform{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    <link rel="stylesheet" href="/static/css/styles.css?v={{ range(1, 10000) | random }}">
</head>
<body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Toast notification container -->
    <div id="toast-container" class="toast-container" aria-live="polite"></div>

    {% if current_user %}
    <nav class="top-nav">
        <div class="nav-brand">
            <a href="/dashboard">HITL Platform</a>
        </div>
        <div class="nav-user">
            <span class="user-info">
                <span class="user-role {{ current_user.role }}">{{ current_user.role }}</span>
                {{ current_user.username }}
            </span>
            <button class="btn-logout" onclick="logout()">Logout</button>
        </div>
    </nav>
    {% endif %}

    <main id="main-content" class="container">
        {% block content %}{% endblock %}
    </main>

    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <script src="/static/js/app.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
